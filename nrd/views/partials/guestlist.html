{{#unless user.firstName}}
<div class="todo">Please update your <em>residence info</em>. Your guestlist will not work unless your information is valid.</div>
{{/unless}}

<section class="content-header">
      <h1>
        View/Edit Your Guestlist
      </h1>
      <p>Guests must be MIT students. For more details about the Guestlist policy, please check the <a href="http://studentlife.mit.edu/studentlife.mit.edu/reslifeanddining/news/residencehallsecurity">MIT security policies</a></p>
</section>

<section class="content">

<form action='guestlist' method='post'>

<p>
<div class="row">
  <div class="col-lg-4 col-xs-6"><b>Fullname</b></div>
  <div class="col-lg-4 col-xs-6"><b>Kerberos</b></div>
</div>
</p>
<p>
  {{#each guests.guests}}
  <div class="row">
      <div class="col-lg-4 col-xs-6"><input class="form-control" type='text' name='guest{{this.index}}Name' value='{{this.name}}' /></div>
      <div class="col-lg-3 col-xs-6"><input class="form-control" type='text' name='guest{{this.index}}Kerberos' value='{{this.kerberos}}' /></div>
  </div>
  {{/each}}
</p>

{{#if guests.hasTempGuests}}
{{else}}
<span id="temp-guest-closed">
  <p><a id="temp-guest-add" href="#">Add temporary guests</a></p>
</span>
{{/if}}
<span id="temp-guest-open" style="display:none;">
  <p>Temporary guests (resets every morning at 7AM)</p>
  <p>
<div class="row">
  <div class="col-lg-4 col-xs-6"><b>Fullname</b></div>
  <div class="col-lg-4 col-xs-6"><b>Kerberos</b></div>
</div>
</p>
<p>
  {{#each guests.tempGuests}}
  <div class="row ">
      <div class="col-lg-4 col-xs-6"><input class="form-control" name='guest{{this.index}}Name' value='{{this.name}}' /></div>
      <div class="col-lg-3 col-xs-6"><input class="form-control" name='guest{{this.index}}Kerberos' value='{{this.kerberos}}' /></div>
  </div>
  {{/each}}
  </p>
</span>

<p>
<button class="btn btn-success" type='submit' value='Save'>Save</button>
</p>

</form>

</section>


<script type="text/javascript">
  $(document).ready(function() {
{{#if guests.hasTempGuests}}
    $('#temp-guest-open').show();
{{else}}
    $('#temp-guest-add').on('click', function() {
      $('#temp-guest-closed').hide();
      $('#temp-guest-open').slideDown(500);
    });
{{/if}}
  });
</script>
